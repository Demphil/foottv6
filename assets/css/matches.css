const options = {
  method: 'GET',
  headers: {
    'X-RapidAPI-Key': 'API_KEY_HERE',
    'X-RapidAPI-Host': 'api-football-v1.p.rapidapi.com'
  }
};

const leagues = [2, 3, 39, 61, 78, 135, 140, 307, 152, 6, 5];
const today = new Date().toISOString().split('T')[0];
const tomorrow = new Date(Date.now() + 86400000).toISOString().split('T')[0];

function fetchMatches(date, containerId) {
  fetch(`https://api-football-v1.p.rapidapi.com/v3/fixtures?date=${date}`, options)
    .then(response => response.json())
    .then(data => {
      const filtered = data.response.filter(match => leagues.includes(match.league.id));
      displayMatches(filtered, containerId);
    })
    .catch(err => console.error(err));
}

function displayMatches(matches, containerId) {
  const container = document.getElementById(containerId);
  container.innerHTML = '';

  if (matches.length === 0) {
    container.innerHTML = '<p class="no-matches">لا توجد مباريات.</p>';
    return;
  }

  matches.forEach(match => {
    const matchCard = document.createElement('div');
    matchCard.className = 'match-card';

    matchCard.innerHTML = `
      <div class="match-header">
        <img src="${match.league.logo}" alt="شعار الدوري" class="league-logo">
        <span class="league-name">${match.league.name}</span>
      </div>
      <div class="teams">
        <div class="team">
          <img src="${match.teams.home.logo}" alt="شعار الفريق المضيف" class="team-logo">
          <span>${match.teams.home.name}</span>
        </div>
        <span class="vs">vs</span>
        <div class="team">
          <img src="${match.teams.away.logo}" alt="شعار الفريق الضيف" class="team-logo">
          <span>${match.teams.away.name}</span>
        </div>
      </div>
      <div class="match-time">${new Date(match.fixture.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</div>
    `;
    container.appendChild(matchCard);
  });
}

fetchMatches(today, 'today-matches');
fetchMatches(tomorrow, 'tomorrow-matches');
