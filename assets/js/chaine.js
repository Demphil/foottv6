// chaine.js
import { streamLinks } from './streams.js';

// ๐ข ูุงุฆูุฉ ุงููุจุงุฑูุงุช (ุชู ุชูุณูููุง ูุฅุถุงูุฉ ุงููููุงุช ุงูููุงุณุจุฉ)
export const matchesData = `
========== ุงูุฏูุฑู ุงูุชููุณู (ุงููุฃุณ / ุงููุทููุฉ) ==========
ูุงุฏู ุณูููุงู ุงูุฑูุงุถู ร ุงูุงุชุญุงุฏ ุงูููุณุชูุฑู (14:00): ุงููุฃุณ HD1
ุงููุฌู ุงูุณุงุญูู ร ุงูุตูุงูุณู (14:00): ุงููุฃุณ HD1
ุงูุฃูููุจู ุงูุจุงุฌู ร ุงููุงุฏู ุงูุฃูุฑููู (14:00): ุงููุฃุณ HD1
ุงูููุนุจ ุงูุชููุณู ร ูุณุชูุจู ูุงุจุณ (14:00): ุงููุฃุณ HD1

========== ุงูุฏูุฑู ุงูุฅูุฌููุฒู (beIN Sports) ==========
ููุฏุฒ ูููุงูุชุฏ ร ุฃุณุชูู ูููุง (15:00): beIN SPORTS HD 2
ุฃุฑุณูุงู ร ุชูุชููุงู ููุชุณุจุฑ (17:30): beIN SPORTS HD 1

========== ุงูุฏูุฑู ุงูุฅุณุจุงูู (beIN Sports) ==========
ุฑูุงู ุฃููููุฏู ร ุฑุงูู ูุงูููุงูู (14:00): beIN SPORTS HD 4
ุฑูุงู ุจูุชูุณ ร ุฌูุฑููุง (16:15): beIN SPORTS HD 3
ุฎูุชุงูู ร ุฃุชูุชููู ูุฏุฑูุฏ (18:30): beIN SPORTS HD 3
ุฅูุชุดู ร ุฑูุงู ูุฏุฑูุฏ (21:00): beIN SPORTS HD 1

========== ุงูุฏูุฑู ุงูุฅูุทุงูู (AD Sports Premium) ==========
ูุฑูููููุณู ร ุฑููุง (15:00): AD Sports Premium 1
ูุงุชุณูู ร ููุชุดู (18:00): AD Sports Premium 2
ุฅูุชุฑ ูููุงู ร ูููุงู (20:45): AD Sports Premium 1

========== ุงูุฏูุฑู ุงููุฑูุณู (beIN Sports) ==========
ุฃููุณูุฑ ร ุฃูููุจูู ูููู (15:00): beIN SPORTS HD 4
ูุงูุช ร ููุฑูุงู (17:15): beIN SPORTS HD 4
ููู ร ุจุงุฑูุณ ุฃู.ุณู. (20:45): beIN SPORTS HD 2

========== ุงูุฏูุฑู ุงูุฃููุงูู (beIN Sports) ==========
ูุงูุจุฒูุฌ ร ููุฑุฏุฑ ุจุฑููู (15:30): beIN SPORTS HD 5

========== ุงูุฏูุฑู ุงูุณุนูุฏู (SSC) ==========
ุงููุตุฑ ร ุงูุฎููุฌ (18:30): SSC 1 HD

========== ุฏูุฑู ุฃุจุทุงู ุฃูุฑูููุง (beIN Sports) ==========
ุงููุฏุงุฏ ุงูุฑูุงุถู ร ูุงูุฑูุจู ูููุงูุชุฏ (20:00): beIN SPORTS HD 3
ุงูุฒูุงูู ร ุฒูุณูู (20:00): beIN SPORTS HD 5
`;

// ============================================================
// ๐ด ูุงููุณ ุงูุงุญุชูุงูุงุช (The Magic Dictionary)
// ุงูููุชุงุญ (ุงููุณุงุฑ): ูู ุงูุงุณู ุงููุญุชูู ุงูุฐู ูุฏ ูุธูุฑ ูู ุงููุงุฆูุฉ
// ุงููููุฉ (ุงููููู): ูู ุงุณู ุงูููุงุฉ ุงูุตุญูุญ ุชูุงูุงู ููุง ูู ูู streams.js
// ============================================================
const channelAliases = {
    // ุงุญุชูุงูุงุช ุจู ุฅู ุณุจูุฑุช 1
    "beIN SPORTS HD 1": "beIN SPORTS HD 1",
    "beIN Sports 1": "beIN SPORTS HD 1",
    "bein 1": "beIN SPORTS HD 1",
    "ุจู ุงู ุณุจูุฑุช 1": "beIN SPORTS HD 1",

    // ุงุญุชูุงูุงุช ุจู ุฅู ุณุจูุฑุช 2
    "beIN SPORTS HD 2": "beIN SPORTS HD 2",
    "beIN Sports 2": "beIN SPORTS HD 2",
    "bein 2": "beIN SPORTS HD 2",

    // ุงุญุชูุงูุงุช ุจู ุฅู ุณุจูุฑุช 3
    "beIN SPORTS HD 3": "beIN SPORTS HD 3",
    "beIN Sports 3": "beIN SPORTS HD 3",

    // ุงุญุชูุงูุงุช ุจู ุฅู ุณุจูุฑุช 4
    "beIN SPORTS HD 4": "beIN SPORTS HD 4",
    "beIN Sports 4": "beIN SPORTS HD 4",

    // ุงุญุชูุงูุงุช ุจู ุฅู ุณุจูุฑุช ุงูุณุชุฑุง 1 (ูุงุญุธ ุญู ูุดููุฉ ุงูุดูุฑุทุฉ ุงููุงุฆูุฉ)
    "beIN Sports Xtra 1": "beIN Sports /Xtra 1",
    "beIN Sports Extra 1": "beIN Sports /Xtra 1",
    "beIN Xtra 1": "beIN Sports /Xtra 1",

    // ุงุญุชูุงูุงุช ุฃุจู ุธุจู ุงูุฑูุงุถูุฉ (ุญู ูุดููุฉ ุงูุญุฑูู ุงููุจูุฑุฉ ูุงูุตุบูุฑุฉ)
    "AD Sports Premium 1": "ad sports premium 1",
    "AD Premium 1": "ad sports premium 1",
    "ุฃุจูุธุจู ุจุฑููููู 1": "ad sports premium 1",

    "AD Sports Premium 2": "ad sports premium 2",
    "AD Premium 2": "ad sports premium 2",

    // ุงุญุชูุงูุงุช ุงููููุงุช ุงูุณุนูุฏูุฉ SSC
    "SSC 1 HD": "SSC 1 HD",
    "SSC 1": "SSC 1 HD",
    
    // ููุง ุงูุญู ุงูุณุญุฑู ูููุงุฉ Extra:
    // ุจูุง ุฃูู ูุง ุชููู ุฑุงุจุท ูู SSC Extraุ ููุช ุจุชุญููููุง ูุฑุงุจุท SSC Sport 2HD ุงููุชููุฑ ูุฏูู
    "SSC Extra 1 HD": "SSC Sport 2HD", 
    "SSC Extra 1": "SSC Sport 2HD",
    "SSC 2": "SSC Sport 2HD",
};

/**
 * ุฏุงูุฉ ุชููู ุจูุฑุงุกุฉ ุงููุต ุฃุนูุงู ูุงุณุชุฎุฑุงุฌ ุงูููุงุฉ
 * ุจูุงุกู ุนูู ุงุณู ุงููุฑูู ุงููุณุชุถูู ุฃู ุงูุถูู
 */
export function getChannelByTeam(homeTeam, awayTeam) {
  if (!matchesData || (!homeTeam && !awayTeam)) return '';

  // ุชูุณูู ุงููุต ุฅูู ุฃุณุทุฑ
  const lines = matchesData.trim().split('\n');
  
  // ุชูุธูู ุฃุณูุงุก ุงููุฑู ูู ุงููุณุงูุงุช ุงูุฒุงุฆุฏุฉ ูุถูุงู ุงูุจุญุซ ุงูุฏููู
  const home = homeTeam ? homeTeam.trim() : '';
  const away = awayTeam ? awayTeam.trim() : '';

  for (let line of lines) {
    // ูุชุฃูุฏ ุฃู ุงูุณุทุฑ ููุณ ูุงุฑุบุงู
    if (!line.trim()) continue;

    // 1. ุงูุชุญูู ููุง ุฅุฐุง ูุงู ุงูุณุทุฑ ูุญุชูู ุนูู ุงุณู ุงููุฑูู ุงููุณุชุถูู ุฃู ุงูุถูู
    // ูุณุชุฎุฏู includes ููุจุญุซ ุนู ุงูุงุณู ุฏุงุฎู ุงูุณุทุฑ
    const hasHome = home && line.includes(home);
    const hasAway = away && line.includes(away);

    if (hasHome || hasAway) {
      // 2. ุฅุฐุง ูุฌุฏูุง ุงููุฑููุ ูููู ุจุงุณุชุฎุฑุงุฌ ุงูููุงุฉ
      // ุงูููุงุฉ ููุฌูุฏุฉ ุฏุงุฆูุงู ุจุนุฏ ุงูููุทุชูู (:) ุญุณุจ ุงูุชูุณูู ุงูุฐู ูุถุนุชู
      if (line.includes(':')) {
        const parts = line.split(':'); // ููุณู ุงูุณุทุฑ ุนูุฏ ุงูููุทุชูู
        const channelName = parts[parts.length - 1]; // ูุฃุฎุฐ ุงูุฌุฒุก ุงูุฃุฎูุฑ (ุงูููุงุฉ)
        return channelName.trim(); // ูุฑุฌุน ุงุณู ุงูููุงุฉ ูุธููุงู
      }
    }
  }

  return "ุบูุฑ ูุญุฏุฏ"; // ูู ุญุงู ูู ูุฌุฏ ุงููุจุงุฑุงุฉ ูู ุงููุงุฆูุฉ
}
